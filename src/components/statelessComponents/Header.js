import React,{useState,useEffect} from "react";
import "./Header.css";
import { Link ,withRouter} from "react-router-dom";
import Burger from "./Burger";
import "../../App.css";


const Header = ({history}) => {
  //state for menu
  const [state,setState] = useState({
    initial: false,
    clicked: null,
    menuName : "MENU",
    headerOpen : true
  })
  //state for disabled button
  const [disabled,setDisabled] = useState(false)

//useeffect for page changes
useEffect(() => {
  document.title ="Joseph Chinemerem Jerry"
  history.listen(() => {
    setState({clicked: false,menuName: "MENU"})
  })
})
  const disableMenu = () => {
  setDisabled(!disabled);
  setTimeout(() => {
    setDisabled(false)
  },1200)
  }

  const handleMenu = () => {
    disableMenu()
    if(state.initial === false){
      setState({
        initial: null,
        clicked: true,
        headerOpen: false
      }) 
     
    }
    
    else if(state.clicked === true){
        setState({
          clicked : !state.clicked,
          menuName: "MENU",
          headerOpen: true
        })      
      }
       else if(state.clicked === false){
        setState({
          clicked : !state.clicked,
          headerOpen: true
        })      
      }
  }

  return (
    <header>
         <div className="header-container ">
        <div className="wrapper ">
          <div className="inner-header">
          <div className="logo">
              <Link to="/" className="logoInner">
                {/* <img src={logo} alt="" /> */}
                <svg
                  width="71"
                  height="37"
                  viewBox="0 0 71 37"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M4.744 29.096C4.12 29.096 3.46 28.976 2.764 28.736C2.092 28.52 1.516 28.064 1.036 27.368C0.58 26.672 0.352 25.628 0.352 24.236C0.352 23.276 0.472 22.328 0.712 21.392C0.928 20.432 1.252 19.64 1.684 19.016C2.116 18.368 2.656 18.044 3.304 18.044C3.64 18.044 4.108 18.176 4.708 18.44C4.252 19.568 3.904 20.624 3.664 21.608C3.448 22.592 3.34 23.468 3.34 24.236C3.34 25.196 3.544 25.952 3.952 26.504C4.36 27.056 4.9 27.332 5.572 27.332C6.148 27.332 6.676 27.068 7.156 26.54C7.66 26.036 8.152 25.124 8.632 23.804C8.992 22.772 9.376 21.536 9.784 20.096C10.192 18.632 10.6 17.084 11.008 15.452C11.416 13.82 11.8 12.188 12.16 10.556C12.52 8.924 12.844 7.412 13.132 6.02C13.42 4.604 13.648 3.416 13.816 2.456C12.064 2.48 10.624 2.564 9.496 2.708C8.368 2.828 7.24 3.02 6.112 3.284C6.28 2.156 6.88 1.352 7.912 0.872C8.944 0.391999 10.504 0.151998 12.592 0.151998C13.6 0.151998 14.644 0.199998 15.724 0.295998C16.804 0.391999 17.8 0.499999 18.712 0.619998C19.648 0.739998 20.368 0.847998 20.872 0.943999C20.488 1.592 19.948 2 19.252 2.168C18.58 2.336 18.028 2.42 17.596 2.42C17.212 2.42 16.816 2.432 16.408 2.456C16 2.456 15.7 2.456 15.508 2.456C15.676 2.672 15.796 2.912 15.868 3.176C15.94 3.416 15.976 3.644 15.976 3.86C15.976 4.172 15.892 4.856 15.724 5.912C15.556 6.944 15.316 8.216 15.004 9.728C14.716 11.216 14.368 12.8 13.96 14.48C13.552 16.16 13.096 17.804 12.592 19.412C12.112 21.02 11.584 22.46 11.008 23.732C10.048 25.844 9.04 27.26 7.984 27.98C6.952 28.724 5.872 29.096 4.744 29.096ZM20.1174 27.584C18.5814 27.584 17.3934 27.164 16.5534 26.324C15.7374 25.508 15.3294 24.476 15.3294 23.228C15.3294 22.172 15.5934 21.056 16.1214 19.88C16.6734 18.68 17.4054 17.564 18.3174 16.532C19.2294 15.476 20.2374 14.624 21.3414 13.976C22.4454 13.328 23.5494 13.004 24.6534 13.004C25.2774 13.004 25.8654 13.172 26.4174 13.508C26.9934 13.82 27.2814 14.456 27.2814 15.416C27.2814 16.328 27.0174 17.18 26.4894 17.972C25.9614 18.764 25.2534 19.472 24.3654 20.096C23.4774 20.72 22.4934 21.236 21.4134 21.644C20.3574 22.028 19.2894 22.28 18.2094 22.4C18.1854 22.496 18.1614 22.604 18.1374 22.724C18.1374 22.82 18.1374 22.988 18.1374 23.228C18.1374 23.348 18.1494 23.564 18.1734 23.876C18.2214 24.164 18.3294 24.476 18.4974 24.812C18.6654 25.148 18.9414 25.436 19.3254 25.676C19.7094 25.916 20.2374 26.036 20.9094 26.036C21.9174 26.036 22.9254 25.76 23.9334 25.208C24.9654 24.632 25.9254 23.876 26.8134 22.94C27.7254 22.004 28.4814 20.96 29.0814 19.808L29.8014 20.384C29.1534 21.824 28.3134 23.084 27.2814 24.164C26.2734 25.244 25.1454 26.084 23.8974 26.684C22.6734 27.284 21.4134 27.584 20.1174 27.584ZM18.6054 21.068C19.2294 20.996 19.9254 20.78 20.6934 20.42C21.4614 20.06 22.1934 19.604 22.8894 19.052C23.6094 18.5 24.1974 17.9 24.6534 17.252C25.1094 16.58 25.3374 15.908 25.3374 15.236C25.3374 14.972 25.2894 14.792 25.1934 14.696C25.0974 14.6 24.9414 14.552 24.7254 14.552C24.1734 14.552 23.5974 14.756 22.9974 15.164C22.3974 15.548 21.8094 16.064 21.2334 16.712C20.6574 17.336 20.1414 18.032 19.6854 18.8C19.2294 19.568 18.8694 20.324 18.6054 21.068ZM34.8709 26.936C33.9829 26.936 33.2629 26.696 32.7109 26.216C32.1589 25.76 31.8829 25.136 31.8829 24.344C31.8829 23.672 32.0509 22.952 32.3869 22.184C32.7229 21.416 33.0589 20.66 33.3949 19.916C33.7549 19.172 33.9349 18.512 33.9349 17.936C33.9349 17.384 33.7549 16.928 33.3949 16.568C33.0349 16.184 32.6149 15.872 32.1349 15.632C31.6069 16.952 31.0069 18.236 30.3349 19.484C29.6869 20.708 29.1589 21.668 28.7509 22.364L28.2109 21.32C28.5469 20.696 28.9909 19.808 29.5429 18.656C30.0949 17.504 30.6229 16.22 31.1269 14.804C30.8869 14.564 30.7669 14.24 30.7669 13.832C30.7669 13.208 30.9589 12.62 31.3429 12.068C31.7269 11.516 32.0989 11.24 32.4589 11.24C32.7469 11.24 32.9509 11.408 33.0709 11.744C33.2149 12.056 33.2869 12.272 33.2869 12.392C33.2869 12.512 33.2269 12.728 33.1069 13.04C33.0109 13.352 32.9389 13.58 32.8909 13.724C32.9149 13.988 33.1189 14.252 33.5029 14.516C33.9109 14.756 34.3669 15.044 34.8709 15.38C35.3749 15.716 35.8189 16.136 36.2029 16.64C36.5869 17.144 36.7789 17.78 36.7789 18.548C36.7789 19.244 36.6229 19.952 36.3109 20.672C35.9989 21.392 35.6869 22.064 35.3749 22.688C35.0629 23.312 34.9069 23.852 34.9069 24.308C34.9069 24.644 34.9909 24.872 35.1589 24.992C35.3509 25.088 35.5669 25.136 35.8069 25.136C36.3829 25.136 36.9829 24.968 37.6069 24.632C38.2309 24.272 38.8429 23.816 39.4429 23.264C40.0429 22.712 40.5709 22.136 41.0269 21.536C41.4829 20.912 41.8309 20.348 42.0709 19.844L42.9349 20.492C42.4789 21.524 41.8189 22.544 40.9549 23.552C40.0909 24.536 39.1309 25.352 38.0749 26C37.0189 26.624 35.9509 26.936 34.8709 26.936ZM47.9491 26.936C47.0611 26.936 46.3411 26.696 45.7891 26.216C45.2371 25.76 44.9611 25.136 44.9611 24.344C44.9611 23.672 45.1291 22.952 45.4651 22.184C45.8011 21.416 46.1371 20.66 46.4731 19.916C46.8331 19.172 47.0131 18.512 47.0131 17.936C47.0131 17.384 46.8331 16.928 46.4731 16.568C46.1131 16.184 45.6931 15.872 45.2131 15.632C44.6851 16.952 44.0851 18.236 43.4131 19.484C42.7651 20.708 42.2371 21.668 41.8291 22.364L41.2891 21.32C41.6251 20.696 42.0691 19.808 42.6211 18.656C43.1731 17.504 43.7011 16.22 44.2051 14.804C43.9651 14.564 43.8451 14.24 43.8451 13.832C43.8451 13.208 44.0371 12.62 44.4211 12.068C44.8051 11.516 45.1771 11.24 45.5371 11.24C45.8251 11.24 46.0291 11.408 46.1491 11.744C46.2931 12.056 46.3651 12.272 46.3651 12.392C46.3651 12.512 46.3051 12.728 46.1851 13.04C46.0891 13.352 46.0171 13.58 45.9691 13.724C45.9931 13.988 46.1971 14.252 46.5811 14.516C46.9891 14.756 47.4451 15.044 47.9491 15.38C48.4531 15.716 48.8971 16.136 49.2811 16.64C49.6651 17.144 49.8571 17.78 49.8571 18.548C49.8571 19.244 49.7011 19.952 49.3891 20.672C49.0771 21.392 48.7651 22.064 48.4531 22.688C48.1411 23.312 47.9851 23.852 47.9851 24.308C47.9851 24.644 48.0691 24.872 48.2371 24.992C48.4291 25.088 48.6451 25.136 48.8851 25.136C49.4611 25.136 50.0611 24.968 50.6851 24.632C51.3091 24.272 51.9211 23.816 52.5211 23.264C53.1211 22.712 53.6491 22.136 54.1051 21.536C54.5611 20.912 54.9091 20.348 55.1491 19.844L56.0131 20.492C55.5571 21.524 54.8971 22.544 54.0331 23.552C53.1691 24.536 52.2091 25.352 51.1531 26C50.0971 26.624 49.0291 26.936 47.9491 26.936ZM56.0952 36.08C55.4952 36.08 54.9312 35.888 54.4032 35.504C53.8992 35.144 53.6472 34.556 53.6472 33.74C53.6472 32.972 53.8752 32.276 54.3312 31.652C54.7872 31.052 55.3752 30.488 56.0952 29.96C56.8152 29.456 57.5832 28.988 58.3992 28.556C59.2392 28.148 60.0432 27.764 60.8112 27.404C61.0752 26.708 61.3632 25.832 61.6752 24.776C62.0112 23.696 62.2992 22.7 62.5392 21.788C61.7952 22.82 61.0032 23.732 60.1632 24.524C59.3232 25.316 58.3872 25.712 57.3552 25.712C56.9232 25.712 56.4672 25.628 55.9872 25.46C55.5072 25.268 55.0992 24.956 54.7632 24.524C54.4512 24.068 54.2952 23.468 54.2952 22.724C54.2952 22.1 54.4032 21.344 54.6192 20.456C54.8592 19.568 55.1472 18.704 55.4832 17.864C55.8432 17 56.2152 16.292 56.5992 15.74C56.9832 15.164 57.3192 14.876 57.6072 14.876C57.7512 14.876 57.9552 14.936 58.2192 15.056C58.5072 15.152 58.7832 15.296 59.0472 15.488C59.3112 15.656 59.4792 15.848 59.5512 16.064C59.3352 16.352 59.0952 16.772 58.8312 17.324C58.5672 17.852 58.3152 18.452 58.0752 19.124C57.8352 19.772 57.6312 20.408 57.4632 21.032C57.3192 21.656 57.2472 22.196 57.2472 22.652C57.2472 23.012 57.3192 23.324 57.4632 23.588C57.6072 23.852 57.8832 23.984 58.2912 23.984C58.8192 23.984 59.3592 23.768 59.9112 23.336C60.4872 22.904 61.0392 22.352 61.5672 21.68C62.1192 21.008 62.6112 20.324 63.0432 19.628C63.0912 19.46 63.1392 19.196 63.1872 18.836C63.2352 18.476 63.3192 18.104 63.4392 17.72C63.5592 17.312 63.7632 16.94 64.0512 16.604C64.3632 16.268 64.7952 16.1 65.3472 16.1C65.5392 16.1 65.7192 16.112 65.8872 16.136C66.0552 16.16 66.2592 16.196 66.4992 16.244C66.4992 16.604 66.3672 17.312 66.1032 18.368C65.8632 19.4 65.5392 20.6 65.1312 21.968C64.7232 23.336 64.2672 24.704 63.7632 26.072C64.7712 25.664 65.8152 24.992 66.8952 24.056C67.9992 23.096 68.8872 21.74 69.5592 19.988L70.1712 20.492C69.8112 21.692 69.2592 22.736 68.5152 23.624C67.7952 24.512 66.9792 25.268 66.0672 25.892C65.1552 26.516 64.2312 27.032 63.2952 27.44C62.6472 29 61.9392 30.44 61.1712 31.76C60.4272 33.08 59.6352 34.124 58.7952 34.892C57.9552 35.684 57.0552 36.08 56.0952 36.08ZM55.7352 34.748C56.1912 34.748 56.8272 34.268 57.6432 33.308C58.4592 32.348 59.2872 30.908 60.1272 28.988C59.3592 29.372 58.5792 29.816 57.7872 30.32C57.0192 30.848 56.3712 31.4 55.8432 31.976C55.3152 32.552 55.0512 33.14 55.0512 33.74C55.0512 33.98 55.0992 34.208 55.1952 34.424C55.3152 34.64 55.4952 34.748 55.7352 34.748Z"
                    fill="black"
                  />
                </svg>
              </Link>
            </div>
            
            <div className="toggle">
              {/* <div className="mobile-toggler">
                <div className="line line-1"></div>
                <div className="line line-2"></div>
                <div className="line line-3"></div>
              </div> */}
              <div className="btnH"  aria-disabled={disabled} onClick={handleMenu}>{state.menuName}</div>
            </div>
            
          </div>
        </div>
      </div>
      <Burger state={state} handleMenu={handleMenu}/>
    </header>
  );
};

export default withRouter(Header);
